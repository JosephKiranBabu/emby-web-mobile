define(["scroller","dom","registerElement"],function(scroller,dom){"use strict";function initCenterFocus(elem,scrollerInstance,className){dom.addEventListener(elem,"focus",function(e){var focused=dom.parentWithClass(e.target,className);focused&&scrollerInstance.toCenter(focused)},{capture:!0,passive:!0})}var ScrollerProtoType=Object.create(HTMLDivElement.prototype);ScrollerProtoType.createdCallback=function(){this.classList.add("emby-scroller")},ScrollerProtoType.scrollToBeginning=function(){this.scroller&&this.scroller.slideTo(0,!0)},ScrollerProtoType.attachedCallback=function(){var horizontal=!0;this.style.overflow="hidden";var slider=this.querySelector(".scrollSlider");horizontal&&(slider.style["white-space"]="nowrap");var frameSizeElement,frameSizeConfig=this.getAttribute("data-framesize");"matchparent"===frameSizeConfig?frameSizeElement=this.parentNode:"matchgrandparent"===frameSizeConfig&&(frameSizeElement=this.parentNode.parentNode);var options={horizontal:horizontal,mouseDragging:1,touchDragging:1,slidee:slider,smart:!0,releaseSwing:!0,scrollBy:200,speed:300,elasticBounds:1,dragHandle:1,scrollWidth:5e5,frameSizeElement:frameSizeElement,autoImmediate:!0};this.scroller=new scroller(this,options),this.scroller.init();var centerFocus=this.getAttribute("data-centerfocus");centerFocus&&initCenterFocus(this,this.scroller,centerFocus)},ScrollerProtoType.detachedCallback=function(){var scrollerInstance=this.scroller;scrollerInstance&&(scrollerInstance.destroy(),this.scroller=null)},document.registerElement("emby-scroller",{prototype:ScrollerProtoType,extends:"div"})});
define(["events"],function(events){"use strict";function transferPlayback(oldPlayer){oldPlayer.getPlayerState().then(function(state){var item=state.NowPlayingItem;if(item){var playState=state.PlayState||{};oldPlayer.stop();var itemId=item.Id,resumePositionTicks=playState.PositionTicks||0;MediaController.play({ids:[itemId],startPositionTicks:resumePositionTicks})}})}events.on(MediaController,"playerchange",function(e,newPlayer,newTarget,oldPlayer){return oldPlayer?oldPlayer.isLocalPlayer?newPlayer.isLocalPlayer?void console.log("Skipping remote control autoplay because newPlayer is a local player"):void(oldPlayer.isPlaying()&&transferPlayback(oldPlayer)):void console.log("Skipping remote control autoplay because oldPlayer is not a local player"):void console.log("Skipping remote control autoplay because oldPlayer is null")})});